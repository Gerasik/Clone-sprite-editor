{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/gif.js.optimized/dist/gif.js","webpack:///./node_modules/gif.js.optimized/dist/gif.worker.js","webpack:///./src/views/AppLanding/img/main.png","webpack:///./src/views/AppLanding/img/img1.gif","webpack:///./src/views/AppLanding/img/img2.jpeg","webpack:///./src/views/AppLanding/img/img3.gif","webpack:///./src/views/AppHeader/AppHeader.js","webpack:///./src/views/AppContainer/AppContainer.js","webpack:///./src/views/AppTools/AppTools.js","webpack:///./src/views/AppFrameList/AppFrameList.js","webpack:///./src/views/AppMainCanvas/AppMainCanvas.js","webpack:///./src/views/AppAnimationPlayer/AppAnimationPlayer.js","webpack:///./src/views/AppDownloadMenu/AppDownloadMenu.js","webpack:///./src/controllers/AppToolsControl.js","webpack:///./src/controllers/AppControl.js","webpack:///./src/views/AppLanding/AppLanding.js","webpack:///./src/App.js","webpack:///./src/controllers/AppLandingControl.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","e","id","loaded","a","h","indexOf","this","length","EventEmitter","running","options","frames","groups","Map","freeWorkers","activeWorkers","setOptions","constructor","__super__","workerScript","workers","repeat","background","quality","width","height","transparent","debug","delay","copy","setOption","_canvas","push","addFrame","ImageData","data","CanvasRenderingContext2D","WebGLRenderingContext","getContextData","context","childNodes","Error","getImageData","image","has","set","render","nextFrame","finishedFrames","imageParts","spawnWorkers","globalPalette","renderNextFrame","emit","abort","shift","log","terminate","Math","min","apply","forEach","Worker","onmessage","splice","frameFinished","indexOfFirstInGroup","index","finishRendering","f","u","g","v","y","_","pageSize","cursor","round","Uint8Array","Blob","type","setTimeout","getTask","postMessage","document","createElement","getContext","setFill","fillRect","drawImage","last","dither","canTransfer","console","_events","_maxListeners","defaultMaxListeners","setMaxListeners","isNaN","TypeError","error","arguments","Array","slice","addListener","newListener","listener","warned","trace","on","once","removeListener","removeAllListeners","listeners","listenerCount","navigator","userAgent","toLowerCase","platform","match","documentMode","version","parseFloat","parseInt","AppHeader","className","block","header","classList","add","innerHTML","body","appendChild","AppContainer","container","AppTools","parentBlock","tools","toolsBar","icon","elem","addTool","[object Object]","color","inputColor","setAttribute","parent","blockName","tool","colors","colorList","swap","createInputColor","select","opt1","opt2","opt3","x","AppFrameList","size","current","frameList","createFrame","prewFrame","newFrame","canvas","number","remove","move","childElementCount","parentElement","insertBefore","nextSibling","lastChild","toggleCurrFrame","frame","createCopyFrame","prevFrame","newCanvas","getElementsByTagName","oldCanvas","putImageData","updateCount","elements","children","querySelector","AppMainCanvas","mainCanvas","canvasImage","canvasPrev","AppAnimationPlayer","sizeCanvas","animationPlayer","updateFPS","frequency","target","previousElementSibling","innerText","AppDownloadMenu","downloadMenu","AppToolsControl","toolList","getFrames","params","currFunction","moveFunction","moveFunctionFalse","startPosition","funtionList","pen","draw","addEvents","addEventListener","unsetMainCanvasEvent","setClass","setMainCanvasEvent","erase","line","square","squareFill","circleFill","circle","colorPick","minus","plus","fill","rotate","mirror","tagName","split","getMousePos","copyToCurrFrame","newX","newY","imageData","clearRect","imgDataContext","newData","j","pos","imgData","startPos","currColor","b","pikselStack","leftPos","rightPos","toTopPixel","matchColor","pixLeft","pixRight","left","pop","lineStart","floor","lineEnd","right","fillNewColor","mainColor","newColor","newPos","pixlePos","pixel","pixelColor","element","Number","toString","getElementById","heigth","radius","sqrt","shadowOffsetX","shadowOffsetY","shadowBlur","shadowColor","beginPath","strokeStyle","arc","PI","stroke","fillStyle","lineWidth","strokeRect","moveTo","lineTo","init","func","moveActive","click","newFunc","mouseDown","updateStartPos","dataImage","removeEventListener","event","offsetX","clientWidth","offsetY","clientHeight","canv","cont","AppControl","count","currentTool","secondColor","start","appTools","colorArr","addcolorList","main","parentNode","firstChild","second","old","canvasSizeList","canvasList","newSize","cursorPosition","toolsControl","getFramesData","eventFrameList","addDragEvent","animationPlayerBlock","requestFullscreen","playAnimation","framesData","downloadMenuBlock","gif","GIF","del","newElem","downloadLink","URL","createObjectURL","url","toDataURL","controller","updateMainCanvas","newCurrentFrame","previousSibling","list","handleDragStart","handleDragEnter","handleDragOver","handleDragLeave","handleDrop","handleDragEnd","style","opacity","dataTransfer","effectAllowed","setData","preventDefault","control","stopPropagation","getData","currentNode","node","removeChild","piskel","require","img1","img2","img3","AppLanding","landingBlock"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 6);\n","!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define([],e):\"object\"==typeof exports?exports.GIF=e():t.GIF=e()}(this,function(){return function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={exports:{},id:n,loaded:!1};return t[n].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var i={};return e.m=t,e.c=i,e.p=\"\",e(0)}([function(t,e,i){var n,r,s,o=function(t,e){function i(){this.constructor=t}for(var n in e)a.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},a={}.hasOwnProperty,h=[].indexOf||function(t){for(var e=0,i=this.length;e<i;e++)if(e in this&&this[e]===t)return e;return-1};n=i(1).EventEmitter,s=i(2),r=function(t){function e(t){var e,n,r;this.running=!1,this.options={},this.frames=[],this.groups=new Map,this.freeWorkers=[],this.activeWorkers=[],this.setOptions(t);for(n in i)r=i[n],null==(e=this.options)[n]&&(e[n]=r)}var i,n;return o(e,t),i={workerScript:\"gif.worker.js\",workers:2,repeat:0,background:\"#fff\",quality:10,width:null,height:null,transparent:null,debug:!1},n={delay:500,copy:!1},e.prototype.setOption=function(t,e){if(this.options[t]=e,null!=this._canvas&&(\"width\"===t||\"height\"===t))return this._canvas[t]=e},e.prototype.setOptions=function(t){var e,i,n;i=[];for(e in t)a.call(t,e)&&(n=t[e],i.push(this.setOption(e,n)));return i},e.prototype.addFrame=function(t,e){var i,r,s;null==e&&(e={}),i={},i.transparent=this.options.transparent;for(s in n)i[s]=e[s]||n[s];if(null==this.options.width&&this.setOption(\"width\",t.width),null==this.options.height&&this.setOption(\"height\",t.height),\"undefined\"!=typeof ImageData&&null!==ImageData&&t instanceof ImageData)i.data=t.data;else if(\"undefined\"!=typeof CanvasRenderingContext2D&&null!==CanvasRenderingContext2D&&t instanceof CanvasRenderingContext2D||\"undefined\"!=typeof WebGLRenderingContext&&null!==WebGLRenderingContext&&t instanceof WebGLRenderingContext)e.copy?i.data=this.getContextData(t):i.context=t;else{if(null==t.childNodes)throw new Error(\"Invalid image\");e.copy?i.data=this.getImageData(t):i.image=t}return r=this.frames.length,r>0&&i.data&&(this.groups.has(i.data)?this.groups.get(i.data).push(r):this.groups.set(i.data,[r])),this.frames.push(i)},e.prototype.render=function(){var t,e,i,n;if(this.running)throw new Error(\"Already running\");if(null==this.options.width||null==this.options.height)throw new Error(\"Width and height must be set prior to rendering\");if(this.running=!0,this.nextFrame=0,this.finishedFrames=0,this.imageParts=function(){var e,i,n;for(n=[],t=e=0,i=this.frames.length;0<=i?e<i:e>i;t=0<=i?++e:--e)n.push(null);return n}.call(this),i=this.spawnWorkers(),this.options.globalPalette===!0)this.renderNextFrame();else for(t=e=0,n=i;0<=n?e<n:e>n;t=0<=n?++e:--e)this.renderNextFrame();return this.emit(\"start\"),this.emit(\"progress\",0)},e.prototype.abort=function(){for(var t;;){if(t=this.activeWorkers.shift(),null==t)break;this.log(\"killing active worker\"),t.terminate()}return this.running=!1,this.emit(\"abort\")},e.prototype.spawnWorkers=function(){var t,e,i;return t=Math.min(this.options.workers,this.frames.length),function(){i=[];for(var n=e=this.freeWorkers.length;e<=t?n<t:n>t;e<=t?n++:n--)i.push(n);return i}.apply(this).forEach(function(t){return function(e){var i;return t.log(\"spawning worker \"+e),i=new Worker(t.options.workerScript),i.onmessage=function(e){return t.activeWorkers.splice(t.activeWorkers.indexOf(i),1),t.freeWorkers.push(i),t.frameFinished(e.data,!1)},t.freeWorkers.push(i)}}(this)),t},e.prototype.frameFinished=function(t,e){var i,n,r,s,o;if(this.finishedFrames++,e?(n=this.frames.indexOf(t),r=this.groups.get(t.data)[0],this.log(\"frame \"+(n+1)+\" is duplicate of \"+r+\" - \"+this.activeWorkers.length+\" active\"),this.imageParts[n]={indexOfFirstInGroup:r}):(this.log(\"frame \"+(t.index+1)+\" finished - \"+this.activeWorkers.length+\" active\"),this.emit(\"progress\",this.finishedFrames/this.frames.length),this.imageParts[t.index]=t),this.options.globalPalette===!0&&!e&&(this.options.globalPalette=t.globalPalette,this.log(\"global palette analyzed\"),this.frames.length>2))for(i=s=1,o=this.freeWorkers.length;1<=o?s<o:s>o;i=1<=o?++s:--s)this.renderNextFrame();return h.call(this.imageParts,null)>=0?this.renderNextFrame():this.finishRendering()},e.prototype.finishRendering=function(){var t,e,i,n,r,s,o,a,h,l,f,p,u,d,c,g,v,m,y,_;for(v=this.imageParts,r=s=0,l=v.length;s<l;r=++s)e=v[r],e.indexOfFirstInGroup&&(this.imageParts[r]=this.imageParts[e.indexOfFirstInGroup]);for(h=0,m=this.imageParts,o=0,f=m.length;o<f;o++)e=m[o],h+=(e.data.length-1)*e.pageSize+e.cursor;for(h+=e.pageSize-e.cursor,this.log(\"rendering finished - filesize \"+Math.round(h/1e3)+\"kb\"),t=new Uint8Array(h),c=0,y=this.imageParts,a=0,p=y.length;a<p;a++)for(e=y[a],_=e.data,i=d=0,u=_.length;d<u;i=++d)g=_[i],t.set(g,c),c+=i===e.data.length-1?e.cursor:e.pageSize;return n=new Blob([t],{type:\"image/gif\"}),this.emit(\"finished\",n,t)},e.prototype.renderNextFrame=function(){var t,e,i,n;if(0===this.freeWorkers.length)throw new Error(\"No free workers\");if(!(this.nextFrame>=this.frames.length))return t=this.frames[this.nextFrame++],e=this.frames.indexOf(t),e>0&&this.groups.has(t.data)&&this.groups.get(t.data)[0]!==e?void setTimeout(function(e){return function(){return e.frameFinished(t,!0)}}(this),0):(n=this.freeWorkers.shift(),i=this.getTask(t),this.log(\"starting frame \"+(i.index+1)+\" of \"+this.frames.length),this.activeWorkers.push(n),n.postMessage(i))},e.prototype.getContextData=function(t){return t.getImageData(0,0,this.options.width,this.options.height).data},e.prototype.getImageData=function(t){var e;return null==this._canvas&&(this._canvas=document.createElement(\"canvas\"),this._canvas.width=this.options.width,this._canvas.height=this.options.height),e=this._canvas.getContext(\"2d\"),e.setFill=this.options.background,e.fillRect(0,0,this.options.width,this.options.height),e.drawImage(t,0,0),this.getContextData(e)},e.prototype.getTask=function(t){var e,i;if(e=this.frames.indexOf(t),i={index:e,last:e===this.frames.length-1,delay:t.delay,transparent:t.transparent,width:this.options.width,height:this.options.height,quality:this.options.quality,dither:this.options.dither,globalPalette:this.options.globalPalette,repeat:this.options.repeat,canTransfer:!0},null!=t.data)i.data=t.data;else if(null!=t.context)i.data=this.getContextData(t.context);else{if(null==t.image)throw new Error(\"Invalid frame\");i.data=this.getImageData(t.image)}return i},e.prototype.log=function(t){if(this.options.debug)return console.log(t)},e}(n),t.exports=r},function(t,e){function i(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(t){return\"function\"==typeof t}function r(t){return\"number\"==typeof t}function s(t){return\"object\"==typeof t&&null!==t}function o(t){return void 0===t}t.exports=i,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._maxListeners=void 0,i.defaultMaxListeners=10,i.prototype.setMaxListeners=function(t){if(!r(t)||t<0||isNaN(t))throw TypeError(\"n must be a positive number\");return this._maxListeners=t,this},i.prototype.emit=function(t){var e,i,r,a,h,l;if(this._events||(this._events={}),\"error\"===t&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;var f=new Error('Uncaught, unspecified \"error\" event. ('+e+\")\");throw f.context=e,f}if(i=this._events[t],o(i))return!1;if(n(i))switch(arguments.length){case 1:i.call(this);break;case 2:i.call(this,arguments[1]);break;case 3:i.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),i.apply(this,a)}else if(s(i))for(a=Array.prototype.slice.call(arguments,1),l=i.slice(),r=l.length,h=0;h<r;h++)l[h].apply(this,a);return!0},i.prototype.addListener=function(t,e){var r;if(!n(e))throw TypeError(\"listener must be a function\");return this._events||(this._events={}),this._events.newListener&&this.emit(\"newListener\",t,n(e.listener)?e.listener:e),this._events[t]?s(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,s(this._events[t])&&!this._events[t].warned&&(r=o(this._maxListeners)?i.defaultMaxListeners:this._maxListeners,r&&r>0&&this._events[t].length>r&&(this._events[t].warned=!0,console.error(\"(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.\",this._events[t].length),\"function\"==typeof console.trace&&console.trace())),this},i.prototype.on=i.prototype.addListener,i.prototype.once=function(t,e){function i(){this.removeListener(t,i),r||(r=!0,e.apply(this,arguments))}if(!n(e))throw TypeError(\"listener must be a function\");var r=!1;return i.listener=e,this.on(t,i),this},i.prototype.removeListener=function(t,e){var i,r,o,a;if(!n(e))throw TypeError(\"listener must be a function\");if(!this._events||!this._events[t])return this;if(i=this._events[t],o=i.length,r=-1,i===e||n(i.listener)&&i.listener===e)delete this._events[t],this._events.removeListener&&this.emit(\"removeListener\",t,e);else if(s(i)){for(a=o;a-- >0;)if(i[a]===e||i[a].listener&&i[a].listener===e){r=a;break}if(r<0)return this;1===i.length?(i.length=0,delete this._events[t]):i.splice(r,1),this._events.removeListener&&this.emit(\"removeListener\",t,e)}return this},i.prototype.removeAllListeners=function(t){var e,i;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)\"removeListener\"!==e&&this.removeAllListeners(e);return this.removeAllListeners(\"removeListener\"),this._events={},this}if(i=this._events[t],n(i))this.removeListener(t,i);else if(i)for(;i.length;)this.removeListener(t,i[i.length-1]);return delete this._events[t],this},i.prototype.listeners=function(t){var e;return e=this._events&&this._events[t]?n(this._events[t])?[this._events[t]]:this._events[t].slice():[]},i.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(n(e))return 1;if(e)return e.length}return 0},i.listenerCount=function(t,e){return t.listenerCount(e)}},function(t,e){var i,n,r,s,o;o=navigator.userAgent.toLowerCase(),s=navigator.platform.toLowerCase(),i=o.match(/(opera|ie|firefox|chrome|version)[\\s\\/:]([\\w\\d\\.]+)?.*?(safari|version[\\s\\/:]([\\w\\d\\.]+)|$)/)||[null,\"unknown\",0],r=\"ie\"===i[1]&&document.documentMode,n={name:\"version\"===i[1]?i[3]:i[1],version:r||parseFloat(\"opera\"===i[1]&&i[4]?i[4]:i[2]),platform:{name:o.match(/ip(?:ad|od|hone)/)?\"ios\":(o.match(/(?:webos|android)/)||s.match(/mac|win|linux/)||[\"other\"])[0]}},n[n.name]=!0,n[n.name+parseInt(n.version,10)]=!0,n.platform[n.platform.name]=!0,t.exports=n}])});\n//# sourceMappingURL=gif.js.map","module.exports = function() {\n  return new Worker(__webpack_public_path__ + \"gif.worker.js\");\n};","module.exports = __webpack_public_path__ + \"./img/main.png\";","module.exports = __webpack_public_path__ + \"./img/img1.gif\";","module.exports = __webpack_public_path__ + \"./img/img2.jpeg\";","module.exports = __webpack_public_path__ + \"./img/img3.gif\";","export default class AppHeader {\n  constructor(className) {\n    this.className = className;\n    this.block = null;\n  }\n\n  render() {\n    const header = document.createElement('header');\n    header.classList.add(this.className);\n    header.innerHTML = `<button class=\"${this.className}__menu-button\"><div></div><div></div><div></div></button>\n                        <h1 class=\"${this.className}__title\">Piskel Clone</h1>\n                        <button class=\"${this.className}__position\"><div></div><div></div><div></div></button>`;\n    document.body.appendChild(header);\n    this.block = header;\n  }\n}\n","export default class AppContainer {\n  constructor(className) {\n    this.className = className;\n    this.block = null;\n  }\n\n  render() {\n    const container = document.createElement('section');\n    container.classList.add(this.className);\n    document.body.appendChild(container);\n    this.block = container;\n  }\n}\n","export default class AppTools {\n  constructor(className, parentBlock) {\n    this.className = className;\n    this.parentBlock = parentBlock;\n    this.block = null;\n  }\n\n  render() {\n    const tools = document.createElement('section');\n    const toolsBar = document.createElement('div');\n    const toolList = [{\n      name: 'pen',\n      icon: 'f304;',\n    }, {\n      name: 'fill',\n      icon: 'f576',\n    }, {\n      name: 'eraser',\n      icon: 'f12d',\n    }, {\n      name: 'line',\n      icon: 'f304',\n    }, {\n      name: 'square-fill',\n      icon: 'f45c',\n    }, {\n      name: 'square',\n      icon: 'f0c8',\n    }, {\n      name: 'circle-fill',\n      icon: 'f111',\n    }, {\n      name: 'circle',\n      icon: 'f111',\n    }, {\n      name: 'light',\n      icon: 'f067',\n    }, {\n      name: 'dark',\n      icon: 'f068',\n    }, {\n      name: 'color-pick',\n      icon: 'f1fb',\n    }, {\n      name: 'rotate',\n      icon: 'f0e2',\n    }, {\n      name: 'move',\n      icon: 'f0b2',\n    }, {\n      name: 'mirror',\n      icon: 'f071',\n    }];\n    tools.classList.add(this.className);\n    toolsBar.classList.add(`${this.className}__bar`);\n    toolList.forEach(elem => AppTools.addTool(elem, toolsBar, this.className));\n    tools.appendChild(toolsBar);\n    this.parentBlock.appendChild(tools);\n    return { tools, toolsBar };\n  }\n\n  static createInputColor(name, color) {\n    const inputColor = document.createElement('input');\n    inputColor.setAttribute('type', 'color');\n    inputColor.setAttribute('id', name);\n    inputColor.setAttribute('name', name);\n    inputColor.setAttribute('value', color);\n    return inputColor;\n  }\n\n  static addTool(elem, parent, blockName) {\n    const tool = document.createElement('button');\n    tool.setAttribute('title', elem.name);\n    tool.classList.add(`${blockName}__item`);\n    tool.classList.add(`${blockName}__${elem.name}`);\n    tool.innerHTML = `<span>&#x${elem.icon}</span>`;\n    parent.appendChild(tool);\n  }\n\n  static addcolorList(parent, colors) {\n    const colorList = document.createElement('div');\n    colorList.classList.add('tools__color-list');\n    for (let i = 0; i < colors.length; i += 1) {\n      if (!(i === 0)) {\n        const swap = document.createElement('span');\n        swap.innerHTML = '&#xf362';\n        colorList.appendChild(swap);\n      }\n      colorList.appendChild(AppTools.createInputColor(colors[i].name, colors[i].color));\n    }\n    parent.appendChild(colorList);\n    return colorList;\n  }\n\n  static canvasSizeList(parent) {\n    const block = document.createElement('div');\n    const name = document.createElement('span');\n    name.innerHTML = 'Canvas size:';\n    const select = document.createElement('select');\n    const opt1 = document.createElement('option');\n    opt1.innerHTML = '32x32';\n    opt1.setAttribute('selected', 'selected');\n    const opt2 = document.createElement('option');\n    opt2.innerHTML = '64x64';\n    const opt3 = document.createElement('option');\n    opt3.innerHTML = '128x128';\n    select.appendChild(opt1);\n    select.appendChild(opt2);\n    select.appendChild(opt3);\n    block.appendChild(name);\n    block.appendChild(select);\n    parent.appendChild(block);\n    return block;\n  }\n\n  static cursorPosition() {\n    const block = document.createElement('div');\n    const x = document.createElement('div');\n    const y = document.createElement('div');\n    block.classList.add('cursorPositon');\n    x.innerHTML = '<span>X position:</span><span id=\"x\">0</span>';\n    y.innerHTML = '<span>Y position:</span><span id=\"y\">0</span>';\n    block.appendChild(x);\n    block.appendChild(y);\n    document.body.appendChild(block);\n  }\n}\n","export default class AppFrameList {\n  constructor(className, parentBlock, size) {\n    this.frames = [];\n    this.className = className;\n    this.parentBlock = parentBlock;\n    this.block = null;\n    this.current = null;\n    this.size = size;\n  }\n\n  render() {\n    const frameList = document.createElement('section');\n    frameList.classList.add(this.className);\n    frameList.innerHTML = `<div class=\"${this.className}__add-frame\">\n                              <span>&#xf067</span>\n                              <span>Add new frame</span>\n                           <div>`;\n    this.parentBlock.appendChild(frameList);\n    this.block = frameList;\n    if (this.frames.length === 0) {\n      this.createFrame();\n    }\n  }\n\n  createFrame(prewFrame) {\n    const newFrame = document.createElement('div');\n    const canvas = document.createElement('canvas');\n    const number = document.createElement('span');\n    const remove = document.createElement('span');\n    const copy = document.createElement('span');\n    const move = document.createElement('span');\n    canvas.setAttribute('width', this.size.width);\n    canvas.setAttribute('height', this.size.width);\n    number.classList.add(`${this.className}__number`);\n    remove.classList.add(`${this.className}__remove`);\n    copy.classList.add(`${this.className}__copy`);\n    move.classList.add(`${this.className}__move`);\n    number.innerHTML = this.block.childElementCount;\n    remove.innerHTML = '&#xf2ed';\n    copy.innerHTML = '&#xf0c5';\n    move.innerHTML = '&#xf0b2';\n    newFrame.classList.add(`${this.className}__frame`);\n    newFrame.appendChild(number);\n    newFrame.appendChild(remove);\n    newFrame.appendChild(copy);\n    newFrame.appendChild(move);\n    newFrame.appendChild(canvas);\n    newFrame.setAttribute('draggable', true);\n    if (prewFrame) {\n      prewFrame.parentElement.insertBefore(newFrame, prewFrame.nextSibling);\n    } else {\n      this.block.insertBefore(newFrame, this.block.lastChild);\n    }\n    this.toggleCurrFrame(newFrame);\n    return newFrame;\n  }\n\n  toggleCurrFrame(frame) {\n    if (this.current) this.current.classList.remove('frame-list__curr-frame');\n    frame.classList.add(`${this.className}__curr-frame`);\n    this.current = frame;\n  }\n\n  createCopyFrame(prevFrame) {\n    const newFrame = this.createFrame(prevFrame);\n    const newCanvas = newFrame.getElementsByTagName('canvas')[0];\n    const oldCanvas = prevFrame.getElementsByTagName('canvas')[0];\n    const data = oldCanvas.getContext('2d').getImageData(0, 0, oldCanvas.width, oldCanvas.height);\n    newCanvas.getContext('2d').putImageData(data, 0, 0);\n    this.toggleCurrFrame(newFrame);\n    return newFrame;\n  }\n\n  updateCount() {\n    const elements = this.block.children;\n    for (let i = 1; i < elements.length; i += 1) {\n      const number = elements[i - 1].querySelector('.frame-list__number');\n      number.innerHTML = i;\n    }\n  }\n}\n","export default class AppMainCanvas {\n  constructor(className, parentBlock, size) {\n    this.className = className;\n    this.parentBlock = parentBlock;\n    this.block = null;\n    this.size = size;\n  }\n\n  render() {\n    const mainCanvas = document.createElement('section');\n    const canvasImage = document.createElement('canvas');\n    const canvasPrev = document.createElement('canvas');\n    canvasImage.setAttribute('width', this.size.width);\n    canvasImage.setAttribute('height', this.size.width);\n    canvasImage.classList.add(`${this.className}__canvas-image`);\n    canvasImage.classList.add('canvas-image');\n    canvasPrev.setAttribute('width', this.size.width);\n    canvasPrev.setAttribute('height', this.size.width);\n    canvasPrev.classList.add(`${this.className}__canvas-prev`);\n    canvasPrev.classList.add('canvas-prev');\n    mainCanvas.classList.add(this.className);\n    mainCanvas.appendChild(canvasImage);\n    mainCanvas.appendChild(canvasPrev);\n    this.parentBlock.appendChild(mainCanvas);\n    this.block = mainCanvas;\n  }\n}\n","export default class AppAnimationPlayer {\n  constructor(className, parentBlock, sizeCanvas) {\n    this.className = className;\n    this.parentBlock = parentBlock;\n    this.sizeCanvas = sizeCanvas;\n  }\n\n  render() {\n    const animationPlayer = document.createElement('section');\n    animationPlayer.classList.add(this.className);\n    animationPlayer.innerHTML = `<canvas class=\"${this.className}__player\" width=\"${this.sizeCanvas.width}\" height=\"${this.sizeCanvas.height}\"></canvas>\n                                <span class=\"${this.className}__full-size\">&#xf066</span>\n                                <span class=\"${this.className}__number\">FPS: 12</span>\n                                <input class=\"${this.className}__frequency\" type=\"range\" min=\"1\" max=\"24\" value=\"12\" step=\"1\">`;\n    this.parentBlock.appendChild(animationPlayer);\n    return animationPlayer;\n  }\n\n  updateFPS(e) { // animation player FPS counter input\n    const frequency = e.target.value;\n    const prevElem = e.target.previousElementSibling;\n    prevElem.innerText = `FPS: ${frequency}`;\n    this.frequency = frequency;\n  }\n}\n","export default class AppDownloadMenu {\n  constructor(className, parentBlock) {\n    this.className = className;\n    this.parentBlock = parentBlock;\n  }\n\n  render() {\n    const downloadMenu = document.createElement('section');\n    downloadMenu.classList.add(this.className);\n    downloadMenu.innerHTML = `<span>Export:</span>\n                              <button class=\"${this.className}__download-gif\" title=\"download gif\">to GIF</button>\n                              <button class=\"${this.className}__download-jpeg\" title=\"download jpeg\">to JPEG</button>`;\n    this.parentBlock.appendChild(downloadMenu);\n    return downloadMenu;\n  }\n}\n","export default class AppToolsControl {\n  constructor(toolList, canvas, getFrames, params) {\n    this.toolList = toolList;\n    this.canvas = canvas;\n    this.getFrames = getFrames;\n    this.currFunction = null;\n    this.moveFunction = null;\n    this.moveFunctionFalse = null;\n    this.params = params;\n    this.startPosition = { x: 0, y: 0 };\n    this.funtionList = { pen: this.draw };\n  }\n\n  addEvents() { // events tool list\n    document.addEventListener('keypress', (e) => {\n      this.unsetMainCanvasEvent();\n      switch (e.key) {\n        case 'p': // pen\n          AppToolsControl.setClass(this.toolList, 'pen');\n          this.setMainCanvasEvent(this.draw);\n          break;\n        case 'e': // erase\n          AppToolsControl.setClass(this.toolList, 'eraser');\n          this.setMainCanvasEvent(this.erase);\n          break;\n        case 'l': // line\n          AppToolsControl.setClass(this.toolList, 'line');\n          this.setMainCanvasEvent(this.line, false);\n          break;\n        case 's': // square\n          AppToolsControl.setClass(this.toolList, 'square');\n          this.setMainCanvasEvent(this.square, false);\n          break;\n        case 'd':// squareFill\n          AppToolsControl.setClass(this.toolList, 'square-fill');\n          this.setMainCanvasEvent(this.squareFill, false);\n          break;\n        case 'v': // circle-fill\n          AppToolsControl.setClass(this.toolList, 'circle-fill');\n          this.setMainCanvasEvent(this.circleFill, false);\n          break;\n        case 'c': // circle\n          AppToolsControl.setClass(this.toolList, 'circle');\n          this.setMainCanvasEvent(this.circle, false);\n          break;\n        case 'a': // color-pick\n          AppToolsControl.setClass(this.toolList, 'color-pick');\n          this.setMainCanvasEvent(this.colorPick, false);\n          break;\n        case 'n': // dark\n          AppToolsControl.setClass(this.toolList, 'dark');\n          this.setMainCanvasEvent(this.minus, false);\n          break;\n        case 'm': // light\n          AppToolsControl.setClass(this.toolList, 'light');\n          this.setMainCanvasEvent(this.plus, false);\n          break;\n        case 'f': // fill\n          AppToolsControl.setClass(this.toolList, 'fill');\n          this.setMainCanvasEvent(this.fill, false);\n          break;\n        case 'r': // rotate\n          AppToolsControl.setClass(this.toolList, 'rotate');\n          this.setMainCanvasEvent(this.rotate, false, false);\n          break;\n        case 't': // move\n          AppToolsControl.setClass(this.toolList, 'move');\n          this.setMainCanvasEvent(this.move, false);\n          break;\n        case 'z': // mirror\n          AppToolsControl.setClass(this.toolList, 'mirror');\n          this.setMainCanvasEvent(this.mirror, false, false);\n          break;\n        default:\n          this.unsetMainCanvasEvent();\n      }\n    });\n    this.toolList.addEventListener('click', (e) => {\n      if (e.target.className !== 'tools__bar') {\n        let elem = e.target;\n        while (elem.tagName !== 'BUTTON') {\n          elem = elem.parentElement;\n        }\n        if (elem.parentElement.querySelector('.tools__active')) {\n          elem.parentElement.querySelector('.tools__active').classList.remove('tools__active');\n        }\n        elem.classList.add('tools__active');\n        this.unsetMainCanvasEvent();\n        const toolName = elem.classList[1].split('__')[1];\n        switch (toolName) {\n          case 'pen':\n            this.setMainCanvasEvent(this.draw);\n            break;\n          case 'eraser':\n            this.setMainCanvasEvent(this.erase);\n            break;\n          case 'line':\n            this.setMainCanvasEvent(this.line, false);\n            break;\n          case 'square':\n            this.setMainCanvasEvent(this.square, false);\n            break;\n          case 'square-fill':\n            this.setMainCanvasEvent(this.squareFill, false);\n            break;\n          case 'circle-fill':\n            this.setMainCanvasEvent(this.circleFill, false);\n            break;\n          case 'circle':\n            this.setMainCanvasEvent(this.circle, false);\n            break;\n          case 'color-pick':\n            this.setMainCanvasEvent(this.colorPick, false);\n            break;\n          case 'dark':\n            this.setMainCanvasEvent(this.minus, false);\n            break;\n          case 'light':\n            this.setMainCanvasEvent(this.plus, false);\n            break;\n          case 'fill':\n            this.setMainCanvasEvent(this.fill, false, false);\n            break;\n          case 'rotate':\n            this.setMainCanvasEvent(this.rotate, false, false);\n            break;\n          case 'move':\n            this.setMainCanvasEvent(this.move, false);\n            break;\n          case 'mirror':\n            this.setMainCanvasEvent(this.mirror, false, false);\n            break;\n          default:\n            this.unsetMainCanvasEvent();\n        }\n      }\n    });\n  }\n\n  static setClass(tools, name) {\n    if (tools.parentElement.querySelector('.tools__active')) {\n      tools.parentElement.querySelector('.tools__active').classList.remove('tools__active');\n    }\n    if (tools.parentElement.querySelector(`.tools__${name}`)) tools.parentElement.querySelector(`.tools__${name}`).classList.add('tools__active');\n  }\n\n  move(e) {\n    const { x, y } = AppToolsControl.getMousePos(e);\n    const { canvas, context } = this.copyToCurrFrame();\n    const newX = x - this.startPosition.x;\n    const newY = y - this.startPosition.y;\n    const imageData = context.getImageData(0, 0, canvas.width, canvas.width);\n    context.clearRect(0, 0, canvas.width, canvas.height);\n    context.putImageData(imageData, newX, newY);\n    this.copyToCurrFrame();\n  }\n\n  mirror() {\n    const { canvas, context } = this.copyToCurrFrame();\n    const imgDataContext = context.getImageData(0, 0, canvas.width, canvas.height);\n    const { data } = imgDataContext;\n    const newData = [];\n    for (let j = 0; j < canvas.width; j += 1) {\n      for (let i = canvas.width - 1; i > -1; i -= 1) {\n        const pos = i * 4 + j * 4 * canvas.width;\n        newData.push(data[pos]);\n        newData.push(data[pos + 1]);\n        newData.push(data[pos + 2]);\n        newData.push(data[pos + 3]);\n      }\n    }\n    newData.forEach((elem, i) => {\n      data[i] = elem;\n    });\n    context.putImageData(imgDataContext, 0, 0);\n    this.copyToCurrFrame();\n  }\n\n  rotate() {\n    const { canvas, context } = this.copyToCurrFrame();\n    const imgDataContext = context.getImageData(0, 0, canvas.width, canvas.height);\n    const { data } = imgDataContext;\n    const newData = [];\n    for (let i = canvas.width - 1; i > -1; i -= 1) {\n      for (let j = 0; j < canvas.width; j += 1) {\n        const pos = i * 4 + j * 4 * canvas.width;\n        newData.push(data[pos]);\n        newData.push(data[pos + 1]);\n        newData.push(data[pos + 2]);\n        newData.push(data[pos + 3]);\n      }\n    }\n    newData.forEach((elem, i) => {\n      data[i] = elem;\n    });\n    context.putImageData(imgDataContext, 0, 0);\n    this.copyToCurrFrame();\n  }\n\n  fill(e) {\n    const { x, y } = AppToolsControl.getMousePos(e);\n    const { canvas, context } = this.copyToCurrFrame();\n    const imgDataContext = context.getImageData(0, 0, canvas.width, canvas.height);\n    const imgData = imgDataContext.data;\n    let startPos = x + canvas.width * y;\n    const currColor = {\n      r: imgData[startPos * 4],\n      g: imgData[startPos * 4 + 1],\n      b: imgData[startPos * 4 + 2],\n    };\n    const pikselStack = [];\n    const leftPos = [];\n    const rightPos = [];\n    startPos = AppToolsControl.toTopPixel(currColor, startPos, imgData, canvas.width);\n    while (startPos <= imgData.length / 4\n      && AppToolsControl.matchColor(currColor, startPos, imgData)) {\n      if (AppToolsControl.matchColor(currColor, startPos - 1, imgData)) {\n        const pixLeft = AppToolsControl.toTopPixel(currColor, startPos - 1, imgData, canvas.width);\n        if (leftPos.indexOf(pixLeft) === -1) leftPos.push(pixLeft);\n      }\n      if (AppToolsControl.matchColor(currColor, startPos + 1, imgData)) {\n        const pixRight = AppToolsControl.toTopPixel(currColor, startPos + 1, imgData, canvas.width);\n        if (rightPos.indexOf(pixRight) === -1) rightPos.push(pixRight);\n      }\n      pikselStack.push(startPos);\n      startPos += canvas.width;\n    }\n    while (leftPos.length) {\n      let left = leftPos.pop();\n      const lineStart = Math.floor(left / canvas.width) * canvas.width - 1;\n      const lineEnd = (Math.floor(left / canvas.width) + 1) * canvas.width - 1;\n      while (left <= imgData.length / 4\n        && AppToolsControl.matchColor(currColor, left, imgData)) {\n        if (AppToolsControl.matchColor(currColor, left - 1, imgData)\n          && lineStart <= left - 1 && left - 1 < lineEnd) {\n          const pixLeft = AppToolsControl.toTopPixel(currColor, left - 1,\n            imgData, canvas.width);\n          // if (leftPos.indexOf(pixLeft) === -1)\n          leftPos.push(pixLeft);\n        }\n        pikselStack.push(left);\n        left += canvas.width;\n      }\n    }\n    while (rightPos.length) {\n      let right = rightPos.pop();\n      const lineStart = Math.floor(right / canvas.width) * canvas.width - 1;\n      const lineEnd = (Math.floor(right / canvas.width) + 1) * canvas.width - 1;\n      while (right <= imgData.length / 4\n        && AppToolsControl.matchColor(currColor, right, imgData)) {\n        if (AppToolsControl.matchColor(currColor, right + 1, imgData)\n          && lineStart <= right + 1 && right + 1 <= lineEnd) {\n          const pixLeft = AppToolsControl.toTopPixel(currColor, right + 1,\n            imgData, canvas.width);\n          if (rightPos.indexOf(pixLeft) === -1) rightPos.push(pixLeft);\n        }\n        pikselStack.push(right);\n        right += canvas.width;\n      }\n    }\n    AppToolsControl.fillNewColor(context, imgDataContext, pikselStack, this.params.mainColor.color);\n  }\n\n  static fillNewColor(context, imgDataContext, pikselStack, newColor) {\n    const imgData = imgDataContext.data;\n    for (let i = 0; i < pikselStack.length; i += 1) {\n      imgData[pikselStack[i] * 4] = parseInt(newColor.slice(1, 3), 16);\n      imgData[pikselStack[i] * 4 + 1] = parseInt(newColor.slice(3, 5), 16);\n      imgData[pikselStack[i] * 4 + 2] = parseInt(newColor.slice(5, 7), 16);\n      imgData[pikselStack[i] * 4 + 3] = 255;\n    }\n    context.putImageData(imgDataContext, 0, 0);\n  }\n\n  static toTopPixel(currColor, startPos, imgData, width) {\n    let newPos = startPos - width;\n    while (newPos >= 0 && AppToolsControl.matchColor(currColor, newPos, imgData)) {\n      newPos -= width;\n    }\n    return newPos + width;\n  }\n\n  static matchColor(currColor, pixlePos, imgData) {\n    const r = imgData[pixlePos * 4];\n    const g = imgData[pixlePos * 4 + 1];\n    const b = imgData[pixlePos * 4 + 2];\n    if (currColor.r === r && currColor.g === g && currColor.b === b) return true;\n    return false;\n  }\n\n  plus(e) {\n    const { x, y } = AppToolsControl.getMousePos(e);\n    const { context } = this.copyToCurrFrame();\n    const pixel = context.getImageData(x, y, 1, 1);\n    for (let i = 0; i < pixel.data.length - 1; i += 1) {\n      if (pixel.data[i] + 16 < 256) pixel.data[i] += 16;\n    }\n    context.putImageData(pixel, x, y);\n  }\n\n  minus(e) {\n    const { x, y } = AppToolsControl.getMousePos(e);\n    const { context } = this.copyToCurrFrame();\n    const pixel = context.getImageData(x, y, 1, 1);\n    for (let i = 0; i < pixel.data.length - 1; i += 1) {\n      if (pixel.data[i] - 16 >= 0) pixel.data[i] -= 16;\n    }\n    context.putImageData(pixel, x, y);\n  }\n\n  colorPick(e) {\n    const { x, y } = AppToolsControl.getMousePos(e);\n    const { context } = this.copyToCurrFrame();\n    const pixelColor = context.getImageData(x, y, 1, 1).data;\n    let newColor = '';\n    if (pixelColor[3] === 0) {\n      newColor = 'ffffffff';\n    } else {\n      pixelColor.forEach((element) => {\n        const color = Number(element).toString(16);\n        if (color.length === 1) newColor += '0';\n        newColor += color;\n      });\n    }\n    this.params.mainColor.color = `#${newColor.slice(0, 6)}`;\n    document.getElementById('main-color').value = `#${newColor.slice(0, 6)}`;\n  }\n\n  circle(e) {\n    const { x, y } = AppToolsControl.getMousePos(e);\n    const { context } = this.copyToCurrFrame();\n    const width = x - this.startPosition.x;\n    const heigth = y - this.startPosition.y;\n    const radius = Math.floor(Math.sqrt((width ** 2) + (heigth ** 2)));\n    context.shadowOffsetX = 0;\n    context.shadowOffsetY = 0;\n    context.shadowBlur = 0;\n    context.shadowColor = 'black';\n    context.beginPath();\n    context.strokeStyle = this.params.mainColor.color;\n    context.arc(this.startPosition.x, this.startPosition.y, radius, 0, 2 * Math.PI, false);\n    context.stroke();\n    this.copyToCurrFrame();\n  }\n\n  circleFill(e) {\n    const { x, y } = AppToolsControl.getMousePos(e);\n    const { context } = this.copyToCurrFrame();\n    const width = x - this.startPosition.x;\n    const heigth = y - this.startPosition.y;\n    const radius = Math.floor(Math.sqrt((width ** 2) + (heigth ** 2)));\n    context.beginPath();\n    context.strokeStyle = this.params.mainColor.color;\n    context.fillStyle = this.params.mainColor.color;\n    context.arc(this.startPosition.x, this.startPosition.y, radius, 0, 2 * Math.PI, false);\n    context.fill();\n    context.stroke();\n    this.copyToCurrFrame();\n  }\n\n  square(e) {\n    const { x, y } = AppToolsControl.getMousePos(e);\n    const { context } = this.copyToCurrFrame();\n    context.lineWidth = 1;\n    context.strokeStyle = this.params.mainColor.color;\n    const width = x - this.startPosition.x;\n    const heigth = y - this.startPosition.y;\n    context.strokeRect(this.startPosition.x, this.startPosition.y, width + 1, heigth + 1);\n    this.copyToCurrFrame();\n  }\n\n  squareFill(e) {\n    const { x, y } = AppToolsControl.getMousePos(e);\n    const { context } = this.copyToCurrFrame();\n    const width = x - this.startPosition.x;\n    const heigth = y - this.startPosition.y;\n    context.lineWidth = 1;\n    context.fillStyle = this.params.mainColor.color;\n    context.fillRect(this.startPosition.x, this.startPosition.y, width + 1, heigth + 1);\n    this.copyToCurrFrame();\n  }\n\n  line(e) {\n    const { x, y } = AppToolsControl.getMousePos(e);\n    const { context } = this.copyToCurrFrame();\n    context.beginPath();\n    context.lineWidth = 1;\n    context.fillStyle = this.params.mainColor.color;\n    context.strokeStyle = this.params.mainColor.color;\n    context.moveTo(this.startPosition.x + 0.5, this.startPosition.y + 0.5);\n    context.lineTo(x + 0.5, y + 0.5);\n    context.stroke();\n    this.copyToCurrFrame();\n  }\n\n  erase(e) { // eraser\n    const { x, y } = AppToolsControl.getMousePos(e);\n    const { context } = this.copyToCurrFrame();\n    context.clearRect(x, y, 1, 1);\n  }\n\n  draw(e) { // pen\n    const { x, y } = AppToolsControl.getMousePos(e);\n    const { context } = this.copyToCurrFrame();\n    context.fillStyle = '#fefefe';\n    context.fillStyle = this.params.mainColor.color;\n    context.fillRect(x, y, 1, 1);\n  }\n\n  init() {\n    this.setMainCanvasEvent(this.draw); // set default draw\n\n    this.canvas.block.querySelector('.canvas-prev').addEventListener('mousemove', (e) => { // Preview canvas\n      const context = e.target.getContext('2d');\n      context.clearRect(0, 0, e.target.width, e.target.height);\n      const { x, y } = AppToolsControl.getMousePos(e);\n      context.fillStyle = '#8885';\n      context.fillRect(x, y, 1, 1);\n      document.getElementById('x').innerHTML = x;\n      document.getElementById('y').innerHTML = y;\n      this.canvas.block.querySelector('.canvas-prev').addEventListener('mouseleave', () => context.clearRect(0, 0, e.target.width, e.target.height));\n    });\n  }\n\n  setMainCanvasEvent(func, moveActive = true, click = true) {\n    const newFunc = func.bind(this);\n    const cont = this;\n    const canvas = this.canvas.block.querySelector('.canvas-prev');\n    this.currFunction = newFunc;\n    this.moveFunction = this.mouseDown.bind(cont, func, canvas);\n    if (moveActive) {\n      canvas.addEventListener('mousedown', this.moveFunction);\n    } else if (click) {\n      this.moveFunctionFalse = this.updateStartPos.bind(this);\n      canvas.addEventListener('mousedown', this.moveFunctionFalse);\n      canvas.addEventListener('mouseup', newFunc);\n    }\n    canvas.addEventListener('click', newFunc);\n  }\n\n  updateStartPos(e) {\n    const { x, y } = AppToolsControl.getMousePos(e);\n    this.startPosition.x = x;\n    this.startPosition.y = y;\n  }\n\n  mouseDown(func, canvas, e) {\n    const { x, y } = AppToolsControl.getMousePos(e);\n    this.startPosition.x = x;\n    this.startPosition.y = y;\n    const newFunc = func.bind(this);\n    this.moveFunctionFalse = func.bind(this);\n    canvas.addEventListener('mousemove', newFunc);\n    canvas.addEventListener('mouseup', () => {\n      this.params.dataImage = this.getFrames();\n      canvas.removeEventListener('mousemove', newFunc);\n    });\n    canvas.addEventListener('mouseleave', () => {\n      this.params.dataImage = this.getFrames();\n      canvas.removeEventListener('mousemove', newFunc);\n    });\n  }\n\n  unsetMainCanvasEvent() {\n    const canvas = this.canvas.block.querySelector('.canvas-prev');\n    canvas.removeEventListener('mouseup', this.currFunction);\n    canvas.removeEventListener('mousedown', this.moveFunctionFalse);\n    canvas.removeEventListener('mousedown', this.moveFunction);\n    canvas.removeEventListener('click', this.currFunction);\n  }\n\n  static getMousePos(event) {\n    const xPosition = Math.floor(event.offsetX / (event.target.clientWidth / event.target.width));\n    const yPosition = Math.floor(event.offsetY / (event.target.clientHeight / event.target.height));\n    return { x: xPosition, y: yPosition };\n  }\n\n  copyToCurrFrame() {\n    const canv = this.canvas.block.querySelector('.canvas-image');\n    const cont = canv.getContext('2d');\n    const imageData = cont.getImageData(0, 0, canv.width, canv.height);\n    const currFrame = document.querySelector('.frame-list__curr-frame').getElementsByTagName('canvas')[0].getContext('2d');\n    currFrame.putImageData(imageData, 0, 0);\n    return { canvas: canv, context: cont };\n  }\n}\n","import GIF from 'gif.js.optimized';\nimport AppHeader from '../views/AppHeader/AppHeader';\nimport AppContainer from '../views/AppContainer/AppContainer';\nimport AppTools from '../views/AppTools/AppTools';\nimport AppFrameList from '../views/AppFrameList/AppFrameList';\nimport AppMainCanvas from '../views/AppMainCanvas/AppMainCanvas';\nimport AppAnimationPlayer from '../views/AppAnimationPlayer/AppAnimationPlayer';\nimport AppDownloadMenu from '../views/AppDownloadMenu/AppDownloadMenu';\nimport AppToolsControl from './AppToolsControl';\nimport Worker from '../../node_modules/gif.js.optimized/dist/gif.worker';\n\nexport default class AppControl {\n  constructor(className) {\n    this.className = className;\n    this.count = 0;\n    this.frequency = 12;\n    this.size = { width: 32 };\n    this.params = {\n      dataImage: null,\n      currentTool: 'pen',\n      mainColor: { name: 'main-color', color: '#00ffff' },\n      secondColor: { name: 'second-color', color: '#ffff00' },\n    };\n  }\n\n  start() {\n    const header = new AppHeader('page-header');\n    header.render();\n    const container = new AppContainer('container');\n    container.render();\n    const appTools = new AppTools('tools', container.block);\n    const { tools, toolsBar } = appTools.render();\n    const colorArr = [{ name: this.params.mainColor.name, color: this.params.mainColor.color },\n      { name: this.params.secondColor.name, color: this.params.secondColor.color }];\n    const colorList = AppTools.addcolorList(tools, colorArr);\n    colorList.addEventListener('change', (e) => {\n      if (e.target.name === this.params.mainColor.name) {\n        this.params.mainColor.color = e.target.value;\n      } else if (e.target.name === this.params.secondColor.name) {\n        this.params.secondColor.color = e.target.value;\n      }\n    }, false);\n    colorList.getElementsByTagName('span')[0].addEventListener('click', (e) => {\n      const main = e.target.parentNode.firstChild;\n      const second = e.target.parentNode.lastChild;\n      const old = this.params.mainColor.color;\n      this.params.mainColor.color = this.params.secondColor.color;\n      main.value = this.params.secondColor.color;\n      second.value = old;\n      this.params.secondColor.color = old;\n    });\n    const canvasSizeList = AppTools.canvasSizeList(tools);\n    canvasSizeList.addEventListener('change', (e) => {\n      const canvasList = document.getElementsByTagName('canvas');\n      for (let i = 0; i < canvasList.length; i += 1) {\n        const context = canvasList[i].getContext('2d');\n        const newSize = e.target.value.split('x')[0];\n        const dataImage = context.getImageData(0, 0, canvasList[i].width, canvasList[i].height);\n        canvasList[i].setAttribute('width', newSize);\n        canvasList[i].setAttribute('height', newSize);\n        context.putImageData(dataImage, 0, 0);\n        this.size.width = newSize;\n      }\n    });\n    AppTools.cursorPosition();\n    const frameList = new AppFrameList('frame-list', container.block, this.size);\n    frameList.render();\n    const mainCanvas = new AppMainCanvas('main-canvas', container.block, this.size);\n    mainCanvas.render();\n    const toolsControl = new AppToolsControl(\n      toolsBar, mainCanvas, AppControl.getFramesData, this.params,\n    );\n    toolsControl.init();\n    toolsControl.addEvents();\n    frameList.block.addEventListener('click', AppControl.eventFrameList.bind(frameList, this));\n    AppControl.addDragEvent(frameList.block.firstChild, this);\n\n    const animationPlayer = new AppAnimationPlayer('animation-player', container.block, { width: this.size.width, height: this.size.width });\n    const animationPlayerBlock = animationPlayer.render();\n\n    animationPlayerBlock.addEventListener('input', animationPlayer.updateFPS.bind(this));\n    animationPlayerBlock.addEventListener('click', (e) => { if (e.target.className.split('__')[1] === 'full-size') animationPlayerBlock.requestFullscreen(); });\n\n    this.params.dataImage = AppControl.getFramesData();\n\n    const playAnimation = () => {\n      const framesData = this.params.dataImage;\n      const imageData = framesData[this.count % framesData.length];\n      animationPlayerBlock.getElementsByTagName('canvas')[0].getContext('2d').putImageData(imageData, 0, 0);\n      this.count += 1;\n      setTimeout(playAnimation, 1000 / this.frequency);\n      this.params.dataImage = AppControl.getFramesData();\n    };\n    setTimeout(playAnimation, 1000 / this.frequency);\n\n    const downloadMenu = new AppDownloadMenu('download-menu', animationPlayerBlock);\n    const downloadMenuBlock = downloadMenu.render();\n    const dowloadGif = downloadMenuBlock.querySelector('.download-menu__download-gif');\n    dowloadGif.addEventListener('click', () => {\n      const worker = new Worker();\n      if (worker) {\n        const gif = new GIF({\n          workerScript: 'gif.worker.js',\n          workers: 7,\n          quality: 10,\n          width: this.size.width,\n          height: this.size.width,\n        });\n        const del = this.frequency;\n        this.params.dataImage.forEach((element) => {\n          const newElem = element;\n          for (let i = 3; i < newElem.data.length; i += 4) {\n            if (element.data[i] === 0) {\n              newElem.data[i - 1] = 255;\n              newElem.data[i - 2] = 255;\n              newElem.data[i - 3] = 255;\n              newElem.data[i] = 255;\n            }\n          }\n          gif.addFrame(newElem, { delay: 1000 / del });\n        });\n        gif.on('finished', (e) => {\n          const downloadLink = document.createElement('a');\n          const n = URL.createObjectURL(e);\n          downloadLink.setAttribute('href', n);\n          downloadLink.setAttribute('download', 'download');\n          document.body.appendChild(downloadLink);\n          downloadLink.click();\n        });\n        gif.render();\n      }\n    });\n    const dowloadJpeg = downloadMenuBlock.querySelector('.download-menu__download-jpeg');\n    dowloadJpeg.addEventListener('click', () => {\n      const canvas = document.querySelector('.main-canvas__canvas-image');\n      const context = canvas.getContext('2d');\n      const dataImage = context.getImageData(0, 0, canvas.width, canvas.width);\n      for (let i = 3; i < dataImage.data.length; i += 4) {\n        if (dataImage.data[i] === 0) {\n          dataImage.data[i - 1] = 255;\n          dataImage.data[i - 2] = 255;\n          dataImage.data[i - 3] = 255;\n          dataImage.data[i] = 255;\n        }\n      }\n      context.putImageData(dataImage, 0, 0);\n      const url = canvas.toDataURL('image/jpeg');\n      const t = document.createElement('a');\n      t.setAttribute('href', url);\n      t.setAttribute('download', 'download');\n      t.click();\n    });\n  }\n\n  static eventFrameList(controller, e) {\n    if (e.target.tagName !== 'SECTION') {\n      let elem = e.target;\n      while (elem.tagName !== 'DIV') {\n        elem = elem.parentElement;\n      }\n      if (elem.className.split('__')[1] === 'add-frame') {\n        const newFrame = this.createFrame();\n        AppControl.addDragEvent(newFrame, controller);\n        const canvas = document.querySelector('.frame-list__curr-frame').getElementsByTagName('canvas')[0];\n        const imageData = canvas.getContext('2d').getImageData(0, 0, canvas.width, canvas.height);\n        AppControl.updateMainCanvas(imageData);\n      } else if (elem.classList[0].split('__')[1] === 'frame') {\n        if (e.target.className.split('__')[1] === 'copy') {\n          const newFrame = this.createCopyFrame(elem);\n          AppControl.addDragEvent(newFrame, controller);\n          const canvas = elem.getElementsByTagName('canvas')[0];\n          const data = canvas.getContext('2d').getImageData(0, 0, canvas.width, canvas.height);\n          AppControl.updateMainCanvas(data);\n          this.updateCount();\n        } else if (e.target.className.split('__')[1] === 'remove') {\n          let newCurrentFrame;\n          if (elem.previousSibling) {\n            newCurrentFrame = elem.previousSibling;\n          } else if (elem.nextSibling && elem.nextSibling.className !== 'frame-list__add-frame') {\n            newCurrentFrame = elem.nextSibling;\n          } else if (elem.nextSibling.className === 'frame-list__add-frame') {\n            newCurrentFrame = this.createFrame();\n          }\n          this.toggleCurrFrame(newCurrentFrame);\n          const canvas = newCurrentFrame.getElementsByTagName('canvas')[0];\n          const imageData = canvas.getContext('2d').getImageData(0, 0, canvas.width, canvas.height);\n          AppControl.updateMainCanvas(imageData);\n          elem.remove();\n          this.updateCount();\n        } else {\n          this.toggleCurrFrame(elem);\n          const canvas = elem.getElementsByTagName('canvas')[0];\n          const imageData = canvas.getContext('2d').getImageData(0, 0, canvas.width, canvas.height);\n          AppControl.updateMainCanvas(imageData);\n        }\n      }\n    }\n  }\n\n  static updateMainCanvas(imageData) {\n    const canvas = document.querySelector('.canvas-image');\n    const context = canvas.getContext('2d');\n    context.putImageData(imageData, 0, 0);\n  }\n\n  static getFramesData(frameList) {\n    const list = frameList || document.querySelector('.frame-list');\n    const data = [];\n    for (let i = 0; i < list.children.length - 1; i += 1) {\n      const canvas = list.children[i].getElementsByTagName('canvas')[0];\n      const context = canvas.getContext('2d');\n      data.push(context.getImageData(0, 0, canvas.width, canvas.height));\n    }\n    return data;\n  }\n\n  updateFPS(e) { // animation player FPS counter input\n    const frequency = e.target.value;\n    const prevElem = e.target.previousElementSibling;\n    prevElem.innerText = `FPS: ${frequency}`;\n    this.frequency = frequency;\n  }\n\n  static addDragEvent(elem, controller) {\n    elem.addEventListener('dragstart', AppControl.handleDragStart, false);\n    elem.addEventListener('dragenter', AppControl.handleDragEnter, false);\n    elem.addEventListener('dragover', AppControl.handleDragOver, false);\n    elem.addEventListener('dragleave', AppControl.handleDragLeave, false);\n    elem.addEventListener('drop', AppControl.handleDrop.bind(elem, controller), false);\n    elem.addEventListener('dragend', AppControl.handleDragEnd, false);\n  }\n\n  static handleDragStart(e) {\n    this.style.opacity = '0.4';\n    e.dataTransfer.effectAllowed = 'move';\n    e.dataTransfer.setData('number', this.firstChild.innerHTML);\n  }\n\n  static handleDragEnter() {\n    this.classList.add('over');\n  }\n\n  static handleDragLeave() {\n    this.classList.remove('over');\n  }\n\n  static handleDragOver(e) {\n    if (e.preventDefault) {\n      e.preventDefault();\n    }\n  }\n\n  static handleDrop(controller, e) {\n    const control = controller;\n    if (e.stopPropagation) {\n      e.stopPropagation(); // Stops some browsers from redirecting.\n    }\n    const number = e.dataTransfer.getData('number');\n    const parent = this.parentNode;\n    const list = parent.children;\n    let currentNode;\n    for (let i = 0; i < list.length - 1; i += 1) {\n      if (list[i].firstChild.innerHTML === number) currentNode = list[i];\n    }\n    if (currentNode) {\n      const node = parent.removeChild(currentNode);\n      parent.insertBefore(node, this);\n    }\n    control.dataImage = AppControl.getFramesData();\n    AppFrameList.prototype.updateCount.call({ block: parent });\n    this.classList.remove('over');\n    return false;\n  }\n\n  static handleDragEnd() {\n    this.style.opacity = '1';\n  }\n}\n","const piskel = require('./img/main.png');\nconst img1 = require('./img/img1.gif');\nconst img2 = require('./img/img2.jpeg');\nconst img3 = require('./img/img3.gif');\n\nexport default class AppLanding {\n  constructor(blockName) {\n    this.blockName = blockName;\n  }\n\n  render() {\n    const block = document.createElement('section');\n    block.classList.add(this.blockName);\n    block.innerHTML = `<header class=\"${this.blockName}__header\"><h1>${this.blockName}</h1></header>\n                      <section class=\"${this.blockName}__about-app\">\n                      <p>\n                        <span>This is a free online editor for animated sprites & pixel art</span>\n                        <button id=\"startApp\">Create sprite</button>\n                      </p>\n                      <img class=\"${this.blockName}__main-img\" src=\"${piskel}\"></section>\n                      <section class=\"${this.blockName}__examples\">\n                        <span>EXAMPLE SPRITES</span>\n                        <img class=\"${this.blockName}__example-img\" src=\"${img1}\"/>\n                        <img class=\"${this.blockName}__example-img\" src=\"${img2}\"/>\n                        <img class=\"${this.blockName}__example-img\" src=\"${img3}\"/>\n                      </section>\n                      <section class=\"${this.blockName}__functionality\">\n                        <span>functionality</span>\n                        <ul>\n                          <li>\n                            <span>\n                              Live preview\n                            </span>\n                            <p>\n                              Check a preview of your animation in real time as you draw.\n                            </p>\n                          </li>\n                          <li>\n                            <span>\n                              Export to GIF\n                            </span>\n                            <p>\n                              Export your animated sprite to file system in .gif format\n                            </p>\n                          </li>\n                          <li>\n                            <span>\n                              Export to JPEG\n                            </span>\n                            <p>\n                              Export your animated sprite to file system in .jpeg format\n                            </p>\n                          </li>\n                          <li>\n                            <span>\n                              A lot of diffrent tools\n                            </span>\n                            <p>\n                              The editor has some diffrent tools\n                            </p>\n                          </li>\n                        </ul>\n                      </section>\n                      <section class=\"${this.blockName}__about-me\">\n                        <h4>CONTACTS</h4>\n                        <span>App developed by Yauheni Herasimenka</span>\n                        <ul>\n                          <li><a href=\"https://t.me/gerasiks\">&#xf2c6</a></li>\n                          <li><a href=\"https://github.com/Gerasik\">&#xf092</a></li>\n                          <li><a href=\"mailto:gerasik1992@gmail.com\">&#xf0e0</a></li>\n                        </ul>\n                      </section>`;\n    document.body.appendChild(block);\n    return block;\n  }\n}\n","import AppLandingControl from './controllers/AppLandingControl';\n\nimport './views/main.sass';\n\nconst controller = new AppLandingControl();\n\ncontroller.start();\n","import AppControl from './AppControl';\nimport AppLanding from '../views/AppLanding/AppLanding';\n\nexport default class AppLandingControl {\n  constructor() {\n    this.name = 'piskel-clone';\n  }\n\n  start() {\n    const landing = new AppLanding(this.name);\n    const landingBlock = landing.render();\n    const startButton = document.getElementById('startApp');\n    startButton.addEventListener('click', () => {\n      landingBlock.remove(landingBlock);\n      const controller = new AppControl('Piskel');\n      controller.start();\n    });\n  }\n}\n"],"sourceRoot":""}